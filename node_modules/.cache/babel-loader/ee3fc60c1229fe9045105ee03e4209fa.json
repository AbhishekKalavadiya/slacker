{"ast":null,"code":"import _slicedToArray from\"C:\\\\React\\\\slacker\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import db from'../firebase-config';import firebase from'firebase';import{useStateValue}from'../StateProvider';import'./ChatInput.css';function ChatInput(_ref){var channelName=_ref.channelName,channelId=_ref.channelId;var _useState=useState(),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,1),user=_useStateValue2[0].user;var sendMessage=function sendMessage(e){e.preventDefault();if(channelId){db.collection('rooms').doc(channelId).collection('messages').add({message:input,timestamp:firebase.firestore.FieldValue.serverTimestamp(),user:user.displayName,userImage:user.photoURL});}setInput('');};return/*#__PURE__*/React.createElement(\"div\",{className:\"chatInput\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{value:input,placeholder:\"Message to #\".concat(channelName===null||channelName===void 0?void 0:channelName.toLowerCase()),onChange:function onChange(e){return setInput(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:sendMessage},\"Send\")));}export default ChatInput;","map":{"version":3,"sources":["C:/React/slacker/src/components/ChatInput.js"],"names":["React","useState","db","firebase","useStateValue","ChatInput","channelName","channelId","input","setInput","user","sendMessage","e","preventDefault","collection","doc","add","message","timestamp","firestore","FieldValue","serverTimestamp","displayName","userImage","photoURL","toLowerCase","target","value"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,EAAP,KAAe,oBAAf,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAO,iBAAP,CAEA,QAASC,CAAAA,SAAT,MAA6C,IAAzBC,CAAAA,WAAyB,MAAzBA,WAAyB,CAAZC,SAAY,MAAZA,SAAY,eAEfN,QAAQ,EAFO,wCAElCO,KAFkC,eAE3BC,QAF2B,kCAGxBL,aAAa,EAHW,kDAGjCM,IAHiC,oBAGjCA,IAHiC,CAKzC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEA,GAAGN,SAAH,CAAa,CACTL,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BR,SAA3B,EAAsCO,UAAtC,CAAiD,UAAjD,EAA6DE,GAA7D,CAAiE,CAC7DC,OAAO,CAAET,KADoD,CAE7DU,SAAS,CAAEf,QAAQ,CAACgB,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFkD,CAG7DX,IAAI,CAAEA,IAAI,CAACY,WAHkD,CAI7DC,SAAS,CAAEb,IAAI,CAACc,QAJ6C,CAAjE,EAOH,CACDf,QAAQ,CAAC,EAAD,CAAR,CACH,CAbD,CAeA,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,6CACI,6BACI,KAAK,CAAED,KADX,CAEI,WAAW,uBAAiBF,WAAjB,SAAiBA,WAAjB,iBAAiBA,WAAW,CAAEmB,WAAb,EAAjB,CAFf,CAGI,QAAQ,CAAI,kBAAAb,CAAC,QAAEH,CAAAA,QAAQ,CAACG,CAAC,CAACc,MAAF,CAASC,KAAV,CAAV,EAHjB,EADJ,cAMI,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEhB,WAA/B,SANJ,CADJ,CADJ,CAYH,CAED,cAAeN,CAAAA,SAAf","sourcesContent":["import React, {useState} from 'react'\r\nimport db from '../firebase-config'\r\nimport firebase from 'firebase'\r\nimport { useStateValue } from '../StateProvider'\r\nimport './ChatInput.css'\r\n\r\nfunction ChatInput({channelName, channelId}) {\r\n\r\n    const [input, setInput] = useState()\r\n    const [{user}] = useStateValue()\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault()\r\n\r\n        if(channelId){\r\n            db.collection('rooms').doc(channelId).collection('messages').add({\r\n                message: input,\r\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                user: user.displayName,\r\n                userImage: user.photoURL\r\n            })\r\n\r\n        }\r\n        setInput('')\r\n    }\r\n\r\n    return (\r\n        <div className='chatInput'>\r\n            <form>\r\n                <input \r\n                    value={input}\r\n                    placeholder={`Message to #${channelName?.toLowerCase()}`}\r\n                    onChange = {e=>setInput(e.target.value)}\r\n                />\r\n                <button type='submit' onClick={sendMessage}>Send</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ChatInput\r\n"]},"metadata":{},"sourceType":"module"}